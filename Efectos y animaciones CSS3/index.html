<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="UTF-8">
	<title>Efectos CSS3 en 3D</title>
	<link rel="stylesheet" href="normalize.css">
	<script src="modernizr-custom.js"></script>
	<link rel="stylesheet" href="efectos.css">
</head>
<body>
	<div id="content">

		<div id="hours1" class="rueda">
			<div class="card c0">0</div>
			<div class="card c1">1</div>
			<div class="card c2">2</div>
			<div class="card c3"></div>
			<div class="card c4"></div>
			<div class="card c5"></div>
			<div class="card c6"></div>
			<div class="card c7"></div>
			<div class="card c8"></div>
			<div class="card c9"></div>
		</div>

		<div id="hours2" class="rueda">
			<div class="card c0">0</div>
			<div class="card c1">1</div>
			<div class="card c2">2</div>
			<div class="card c3">3</div>
			<div class="card c4">4</div>
			<div class="card c5">5</div>
			<div class="card c6">6</div>
			<div class="card c7">7</div>
			<div class="card c8">8</div>
			<div class="card c9">9</div>
		</div>

		<div id="minutes1" class="rueda">
			<div class="card c0">0</div>
			<div class="card c1">1</div>
			<div class="card c2">2</div>
			<div class="card c3">3</div>
			<div class="card c4">4</div>
			<div class="card c5">5</div>
			<div class="card c6"></div>
			<div class="card c7"></div>
			<div class="card c8"></div>
			<div class="card c9"></div>
		</div>

		<div id="minutes2" class="rueda">
			<div class="card c0">0</div>
			<div class="card c1">1</div>
			<div class="card c2">2</div>
			<div class="card c3">3</div>
			<div class="card c4">4</div>
			<div class="card c5">5</div>
			<div class="card c6">6</div>
			<div class="card c7">7</div>
			<div class="card c8">8</div>
			<div class="card c9">9</div>
		</div>

		<div id="seconds1" class="rueda">
			<div class="card c0">0</div>
			<div class="card c1">1</div>
			<div class="card c2">2</div>
			<div class="card c3">3</div>
			<div class="card c4">4</div>
			<div class="card c5">5</div>
			<div class="card c6"></div>
			<div class="card c7"></div>
			<div class="card c8"></div>
			<div class="card c9"></div>
		</div>
		
		<div id="seconds2" class="rueda">
			<div class="card c0">0</div>
			<div class="card c1">1</div>
			<div class="card c2">2</div>
			<div class="card c3">3</div>
			<div class="card c4">4</div>
			<div class="card c5">5</div>
			<div class="card c6">6</div>
			<div class="card c7">7</div>
			<div class="card c8">8</div>
			<div class="card c9">9</div>
		</div>
	</div>

	<script>
 
		function setRotation(el, ang) {
			var webkitTransform = document.getElementById(el).style.webkitTransform;
			var current_angle = parseInt(webkitTransform.match(/\d+/));
			webkitTransform ? current_angle = parseInt(webkitTransform.match(/\d+/)) : current_angle = 0;
			var rotations = Math.floor(current_angle/360);
			if ((current_angle-360*rotations) != ang) {
				var new_angle;
				ang == 0 ? new_angle = 360*(rotations+1) : new_angle = 360*rotations + ang;
				document.getElementById(el).style.webkitTransform = "rotateX(-"+ new_angle +"deg)";		
			}
		}
		
		function tickTock() {
			var today = new Date();
			var seconds1 = Math.floor(today.getSeconds() / 10);
			var seconds2 = today.getSeconds() % 10;
			var minutes1 = Math.floor(today.getMinutes() / 10);
			var minutes2 = today.getMinutes() % 10;
			var hours1 = Math.floor(today.getHours() / 10);
			var hours2 = today.getHours() % 10;
	 
			setRotation("hours1", (hours1 * 36));
			setRotation("hours2", (hours2 * 36));
			setRotation("minutes1", (minutes1 * 36));
			setRotation("minutes2", (minutes2 * 36));
			setRotation("seconds1", (seconds1 * 36));
			setRotation("seconds2", (seconds2 * 36));
			setTimeout("tickTock()", 1000);
		}
		tickTock();
	</script>
</body>
</html>